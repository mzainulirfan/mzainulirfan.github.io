<!DOCTYPE html>
<html lang="en" class="transition-colors duration-300">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>POS - ChecknGo</title>

  <!-- TailwindCSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Boxicons -->
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet"/>

  <!-- Tailwind config for dark mode -->
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>

  <style>
    html {
      transition: background-color 0.3s ease, color 0.3s ease;
    }
  </style>
</head>
<body class="bg-white text-gray-800 dark:bg-gray-900 dark:text-gray-100">

  <!-- Header -->
  <header class="flex justify-between items-center bg-green-700 text-white px-4 py-3 dark:bg-green-800">
    <div class="flex items-center gap-2 text-xl font-bold">
      <i class='bx bxs-store text-2xl'></i>
      ChecknGo
    </div>
    <div class="flex items-center gap-4">
      <button id="toggleDark" class="flex items-center gap-1">
        <i class='bx bx-moon text-xl'></i>
        <span class="hidden md:inline">Dark</span>
      </button>
      <img src="https://via.placeholder.com/32" alt="User" class="rounded-full w-8 h-8">
      <span class="font-medium">Clark</span>
    </div>
  </header>

  <!-- Main Content -->
  <main class="flex flex-col lg:flex-row p-4 gap-4">
    
    <!-- Product List Section -->
    <section class="w-full lg:w-3/4">
      <!-- Search -->
      <div class="flex items-center gap-2 mb-4">
        <div class="relative w-full">
          <input type="text" placeholder="Search by product name, barcode, SKU"
            class="w-full border rounded px-10 py-2 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400" />
          <i class='bx bx-search absolute left-3 top-2.5 text-lg text-gray-500 dark:text-gray-400'></i>
        </div>
        <button class="px-3 py-2 border rounded text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:border-gray-600">
          <i class='bx bx-barcode'></i> 
        </button>
      </div>

      <!-- Order Details -->
      <div class="bg-white border rounded shadow dark:bg-gray-800 dark:border-gray-700">
        <div class="flex justify-between items-center p-4 border-b dark:border-gray-700">
          <h2 class="text-lg font-semibold">ORDER DETAILS <span class="text-green-600 ml-1">(Items: 7)</span></h2>
          <button class="text-red-500 text-sm font-semibold flex items-center gap-1">
            <i class='bx bx-trash'></i> Clear All
          </button>
        </div>

        <!-- Product List -->
        <div class="divide-y dark:divide-gray-700">
          <!-- Product Item (repeatable) -->
          <div class="flex items-center p-4 gap-4">
            <img src="https://via.placeholder.com/50" class="rounded" alt="">
            <div class="flex-1">
              <div class="font-medium">Lumera Facewash</div>
              <div class="text-sm text-gray-500 dark:text-gray-400">SKU: 1235667<br>Stock: 345</div>
            </div>
            <div class="w-24 text-right">$10.00</div>
            <div class="flex items-center gap-2 w-24">
              <button class="border px-2 dark:border-gray-600"><i class='bx bx-minus'></i></button>
              <span>2</span>
              <button class="border px-2 dark:border-gray-600"><i class='bx bx-plus'></i></button>
            </div>
            <div class="w-24 text-right font-semibold">$30.00</div>
            <button class="text-red-500 text-xl"><i class='bx bx-trash'></i></button>
          </div>
        </div>
      </div>
    </section>

    <!-- Invoice Section -->
    <section class="w-full lg:w-1/4 bg-white border rounded shadow p-4 space-y-4 dark:bg-gray-800 dark:border-gray-700">
      <div>
        <label class="block text-sm font-medium mb-1">Select Biller</label>
        <select class="w-full border rounded px-3 py-2 dark:bg-gray-900 dark:border-gray-600">
          <option>James Potter</option>
        </select>
      </div>

      <div class="border-t pt-4 dark:border-gray-700">
        <h2 class="text-lg font-semibold">INVOICE <span class="text-sm text-gray-500 dark:text-gray-400">#12456</span></h2>

        <div class="flex items-center gap-2 my-2">
          <input type="text" placeholder="Customer ID" class="border px-2 py-1 rounded w-full dark:bg-gray-900 dark:border-gray-600">
          <button class="bg-gray-200 px-3 py-1 rounded text-sm flex items-center gap-1 dark:bg-gray-700 dark:text-white">
            <i class='bx bx-user-plus'></i> New
          </button>
        </div>

        <div class="text-sm space-y-1">
          <div class="flex justify-between"><span>Subtotal</span><span>$12338.00</span></div>
          <div class="flex justify-between"><span>Tax (5%)</span><span>$123.30</span></div>
          <div class="flex items-center gap-2">
            <input type="text" placeholder="Promo Code" class="border px-2 py-1 rounded w-full dark:bg-gray-900 dark:border-gray-600">
            <button class="bg-green-600 text-white px-3 py-1 rounded text-sm">Apply</button>
          </div>
          <div class="flex justify-between font-semibold"><span>Total</span><span>$12338.30</span></div>
          <div class="flex justify-between"><span>Discount</span><span>$338.00</span></div>
          <div class="flex justify-between items-center">
            <span>Roundoff</span>
            <input type="checkbox" checked class="form-checkbox text-green-600">
          </div>
          <div class="flex justify-between font-bold text-lg pt-2 border-t dark:border-gray-700">
            <span>Total Payable</span><span>$12338.00</span>
          </div>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium mb-1">Select Payment Method</label>
        <div class="grid grid-cols-3 gap-2">
          <button class="border rounded px-2 py-2 text-sm flex flex-col items-center dark:border-gray-600">
            <i class='bx bx-money text-xl'></i>
            Cash
          </button>
          <button class="border rounded px-2 py-2 text-sm flex flex-col items-center dark:border-gray-600">
            <i class='bx bx-credit-card text-xl'></i>
            Card
          </button>
          <button class="border rounded px-2 py-2 text-sm flex flex-col items-center dark:border-gray-600">
            <i class='bx bx-qr text-xl'></i>
            Scan
          </button>
        </div>
      </div>

      <div class="grid grid-cols-3 gap-2">
        <button class="col-span-3 bg-green-600 text-white py-2 rounded flex items-center justify-center gap-1">
          <i class='bx bx-check'></i> Make Payment
        </button>
        <button class="bg-yellow-500 text-white py-2 rounded flex items-center justify-center gap-1">
          <i class='bx bx-pause'></i> Hold
        </button>
        <button class="bg-red-600 text-white py-2 rounded flex items-center justify-center gap-1">
          <i class='bx bx-x'></i> Cancel
        </button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="text-center text-xs text-gray-400 py-4 border-t mt-6 dark:border-gray-700">
    Copyright Â© 2025 ChecknGo. All Rights Reserved.
  </footer>

  <!-- Dark Mode Script + LocalStorage -->
  <script>
    const root = document.documentElement;
    const toggleBtn = document.getElementById("toggleDark");

    // Cek localStorage saat load
    if (
      localStorage.theme === "dark" ||
      (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      root.classList.add("dark");
    } else {
      root.classList.remove("dark");
    }

    // Toggle Dark Mode dan simpan ke localStorage
    toggleBtn.addEventListener("click", () => {
      root.classList.toggle("dark");
      localStorage.theme = root.classList.contains("dark") ? "dark" : "light";
    });
  </script>
<script>
  // Data Produk Sementara (simulasi harga per item)
  const productData = [
    {
      name: "Lumera Facewash",
      price: 10.00,
      quantity: 2,
      subtotal: 20.00
    }
    // Tambahkan data item lain jika ada banyak item
  ];

  // Update semua harga
  function updateTotals() {
    let subtotal = 0;
    let discount = 338.00;
    let taxRate = 0.05;

    // Hitung ulang dari elemen DOM
    const items = document.querySelectorAll('.divide-y > .flex');
    items.forEach((item, index) => {
      const qtySpan = item.querySelector('span:nth-child(2)');
      const qty = parseInt(qtySpan.textContent.trim());
      const priceText = item.querySelector('.w-24.text-right').textContent.trim().replace('$', '');
      const price = parseFloat(priceText);

      const total = price * qty;
      subtotal += total;

      // Update subtotal item
      item.querySelector('.font-semibold').textContent = `$${total.toFixed(2)}`;
      // Simpan data jika perlu
      if (productData[index]) {
        productData[index].quantity = qty;
        productData[index].subtotal = total;
      }
    });

    // Kalkulasi total lainnya
    const tax = subtotal * taxRate;
    const total = subtotal + tax;
    const totalPayable = total - discount;

    // Update UI
    document.querySelector("div.flex.justify-between:nth-child(1) > span:last-child").textContent = `$${subtotal.toFixed(2)}`;
    document.querySelector("div.flex.justify-between:nth-child(2) > span:last-child").textContent = `$${tax.toFixed(2)}`;
    document.querySelector("div.flex.justify-between.font-semibold > span:last-child").textContent = `$${total.toFixed(2)}`;
    document.querySelector("div.flex.justify-between.font-bold > span:last-child").textContent = `$${totalPayable.toFixed(2)}`;
  }

  // Event Listeners tombol + dan -
  document.querySelectorAll('.divide-y > .flex').forEach(item => {
    const minusBtn = item.querySelector('button:nth-child(1)');
    const plusBtn = item.querySelector('button:nth-child(3)');
    const qtySpan = item.querySelector('span:nth-child(2)');

    minusBtn.addEventListener('click', () => {
      let qty = parseInt(qtySpan.textContent.trim());
      if (qty > 1) {
        qty--;
        qtySpan.textContent = qty;
        updateTotals();
      }
    });

    plusBtn.addEventListener('click', () => {
      let qty = parseInt(qtySpan.textContent.trim());
      qty++;
      qtySpan.textContent = qty;
      updateTotals();
    });
  });

  // Inisialisasi saat load
  updateTotals();
</script>


</body>
</html>
